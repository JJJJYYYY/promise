!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.Promise=e()}(this,function(){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},t=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}(),o={PENDING:0,FULFILLED:1,REJECTED:2},u=function(){};function r(n){return"function"==typeof n}var i=("undefined"!=typeof window?window:void 0)||{},c=i.MutationObserver||i.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),s="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;i=null;var a=void 0;if(f)a=function(n){process.nextTick(function(){n()})};else if(c){var l=0,y=document.createTextNode(""),p=null;new c(function(){p()}).observer(y,{characterData:!0}),a=function(n){p=n,y.data=l=++l%2}}else if(s){var d=new MessageChannel;d.port1.onmessage=function(){null()},a=function(){return d.port2.postMessage(0)}}else a=function(n){return setTimeout(n,0)};var v=a,h=function(n){return n},b=function(n){throw n};function m(n,e){v(function(){for(var t=0,o=n._sequence;o[t];){try{w(o[t],(0,o[t+n._status])(e))}catch(n){_(o[t],n)}t+=3}n._sequence=[]})}function E(n,e){n._status===o.PENDING&&(m(n,e),n._result=e,n._status=o.FULFILLED)}function w(e,t){if(e===t)_(e,new TypeError("x \u4e0d\u80fd\u4e0e promise \u76f8\u7b49"));else if(null!==(i=t)&&"object,function".includes(void 0===i?"undefined":n(i))){var o=function(n,e){try{return e.then}catch(e){_(n,e)}}(e,t);if(r(o)){var u=!0;try{o.call(t,function(n){u&&w(e,n),u=!1},function(n){u&&_(e,n),u=!1})}catch(n){u&&_(e,n)}}else E(e,t)}else E(e,t);var i}function _(n,e){n._status===o.PENDING&&(m(n,e),n._result=e,n._status=o.REJECTED)}function D(n,e,t){var i,c=n._sequence,f=c.length;return c[f]=new n.constructor(u),c[f+o.FULFILLED]=r(e)?e:h,c[f+o.REJECTED]=r(t)?t:b,(i=n)._status!==o.PENDING&&m(i,i._result),c[f]}return function(){function n(t){e(this,n),this._status=o.PENDING,this._sequence=[],function(n,e){try{e(function(e){w(n,e)},function(e){_(n,e)})}catch(e){_(n,e)}}(this,t)}return t(n,[{key:"then",value:function(n,e){return D(this,n,e)}},{key:"catch",value:function(n){return D(this,null,n)}}],[{key:"resolve",value:function(e){return new n(function(n){return n(e)})}},{key:"reject",value:function(e){return new n(function(n,t){return t(e)})}}]),n}()});